---
import ThemeToggle from "@/components/ThemeToggle.astro";
import { siteConfig } from "@/site.config";

const socialLinks = [
	{ title: "CV", href: "/young_sang_choi_cv.pdf" },
	{ title: "Google Scholar", href: "https://scholar.google.com/citations?hl=en&user=cX-zhzAAAAAJ" },
	{ title: "LinkedIn", href: "https://www.linkedin.com/in/youngsangchoi" },
	{ title: "GitHub", href: "https://github.com/youngsangchoi" },
];
---

<header
	id="main-header"
	class="group relative mb-8 flex items-center justify-between pt-4 pb-4 sm:pt-8 sm:pb-8"
>
	<a
		href="/"
		class="hover:text-link text-lg font-bold transition-colors sm:text-2xl"
		aria-current="page"
	>
		{siteConfig.title}
	</a>

	<div class="flex items-center gap-4">
		<nav class="hidden items-center gap-x-5 sm:flex">
			{
				socialLinks.map((link) => (
					<a
						class="hover:text-link text-base font-semibold text-gray-600 transition-colors dark:text-gray-400"
						href={link.href}
						target="_blank"
						rel="noopener noreferrer"
					>
						{link.title}
					</a>
				))
			}
		</nav>

		<ThemeToggle />

		<button
			id="mobile-menu-btn"
			class="group border-accent/20 bg-accent/5 relative flex h-9 w-9 items-center justify-center border transition-all active:scale-95 sm:hidden"
			aria-label="Toggle Menu"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				fill="none"
				viewBox="0 0 24 24"
				stroke-width="1.5"
				stroke="currentColor"
				class="text-accent h-5 w-5 transition-transform duration-300 group-[.menu-open]:rotate-90 group-[.menu-open]:opacity-50"
			>
				<path
					stroke-linecap="round"
					stroke-linejoin="round"
					d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
			</svg>
		</button>
	</div>

	<nav
		id="mobile-menu"
		class="border-accent/20 bg-global-bg/95 absolute top-full left-0 z-50 hidden w-full flex-col border shadow-xl backdrop-blur-md group-[.menu-open]:flex"
	>
		{
			socialLinks.map((link) => (
				<a
					class="text-accent hover:bg-accent/5 border-b border-dashed border-gray-200 py-4 text-center text-sm font-semibold transition-colors dark:border-gray-800"
					href={link.href}
					target="_blank"
					rel="noopener noreferrer"
				>
					{link.title}
				</a>
			))
		}
	</nav>
</header>

<script>
	const btn = document.getElementById("mobile-menu-btn");
	const header = document.getElementById("main-header");

	btn?.addEventListener("click", () => {
		header?.classList.toggle("menu-open");
	});
</script>
